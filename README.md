# Board_Project v0.65(project_whistle) - 2023.09.18
프로젝트 "휘슬"은 축구를 사랑하는 축구인들을 위한 팀 매칭 서비스를 제공합니다.

축구인들끼리 팀을 형성하고 더 나아가 리그를 생성하여 나만의 추억을 만들 수 있는 서비스 입니다.




## 개발 환경
- Java 11
- Spring Boot 2.1.15 (Gradle 5.3과 호환되는 버전)
- Gradle 5.3
- Maria DB
- Java Server Page ( 컨펌 완료 및 리액트로 변경 2023.09/04 )
- React




## 구현 예정 기능 - 2023.09.21
완료된 기능은 구현 하단의 구현 완료로 이동함

### 회원
회원 관련 테이블
- 마이페이지
  - 내가 쓴 게시글
  - 내 팀 정보
  - 경기 일정
  - 경기 결과 모음
    - 리그 경기 
    - 팀 경기
    - 용병으로 참여한 경기

### 게시글
게시글 관련 테이블
- 파일 업로드
- 게시판 카테고리
  - 용병 모집 게시판

### 댓글
댓글 관련 테이블

### 팀
팀 관련 테이블
- 팀 로고 파일 업로드
- 팀 수정
  - 팀 인원 수정
  - 팀 이름 수정
  - 리그 이름 수정
  - 부 매니저 수정
  - 연령대 수정
  - 스포츠 타입(풋살, 축구, 그 외) 수정
  - 실력 수정
  - 지역 수정
  - 활동 빈도 수정
  - 유니폼 수정
  - 포메이션 수정
- 랭킹 조회 (쿼리로 구현 / 명예점수 순 조회)

### 매치
매치 관련 테이블
- 매치 수정
  - 매치 정보 수정
  - 매치 점수 수정
  - 매치 시간이 지나면 경기 종료로 처리 되도록(경기 전, 중, 후)
  - 매치 결과에 따라 팀 정보 및 리그 정보를 수정
    - 팀 전적 수정(승무패 / 해당팀 정보를 수정함과 동시에 팀 테이블에 있는 데이터도 수정할 수 있도록 해야함)
      - 전체 경기 수
      - 전체 승리 수
      - 전체 무승부 수
      - 전체 패배 수
    - 리그 리스트 전적 수정(승점, 승무패 / 해당팀 정보를 수정함과 동시에 팀 테이블 및 리그 테이블에 있는 데이터도 수정할 수 있도록 해야함)
      - 리그 승점
      - 리그 승리 수
      - 리그 무승부 수
      - 리그 패배 수
    - 이긴 팀 명예 점수 추가(승리시 +300, 무승부시 +100, 패배시 +10)

### 리그
리그 관련 테이블
- 리그 로고 파일 업로드
- 리그 생성
  - 리그 생성시 팀 정보에 리그 이름 변경
- 리그 수정
  - 우승 횟수 수정(해당팀 정보를 수정해야함/토너먼트 또는 리그 우승시 count++ / SUM 쿼리로 구현해보기 )
  - 명예 점수 수정(팀 명예점수 종합 / sum 쿼리로 구현)
- 리그 조회
  - 랭킹 조회 (쿼리로 구현 / 명예점수를 종합하여 DESC순으로 구현)


### 신청(Apply) 테이블
팀 가입 신청, 매치 신청, 리그 가입 신청 정보를 관리하는 테이블

### 팀, 매치, 리그 리스트
팀, 매치, 리그 목록 정보를 담는 테이블
- 팀
  - 팀 리스트에 추가시 팀원 수 ++
- 매치
  - away팀 생성을 수정으로 구현(matchListId를 기준으로 matchList에 있는 정보를 수정하는 것으로 구현)
- 리그
  - 리그 리스트에 팀 추가시 참가한 팀 수 ++
  - 리그 리스트에 추가시 팀 정보에서 리그 이름 변경

### 그 외 기능
- 로그 찍기
- 파일 업로드(같은 파일 이름으로 처리되지 않도록 구현 - UUID 고려해보기)
- 로그인(Oauth 2.0)
- 신청
- 팀, 리그, 매치 리스트 CRUD

### @챌린지
- 팀, 리그 개인 기록
- MOM, GOAL, ASSIST
- 팀 신청시 메일 보내기
- 유저 정보 마스킹


## 구현 완료
### 회원
회원 관련 테이블 
  - 회원 가입(Validation 구현(이메일, 비밀번호, 휴대폰 번호))
  - 회원 정보 수정
  - 회원 조회
  - 회원 삭제

### 게시글
게시글 관련 테이블
- 게시글 생성
- 게시글 조회 
  - 게시글 단건 조회
  - 게시글 전체 조회(pagenation)
  - 게시글 filter 
    - 글 제목순 조회
    - 작성자 ID(닉네임)순 조회 
    - 작성 시간순 조쇠 (최신순, 오래된 순서)

### 댓글
댓글 관련 테이블
- 댓글 생성
- 댓글 조회
  - 댓글 상세 조회
  - 댓글 전체 조회
- 댓글 삭제

### 팀
팀 관련 테이블

- 팀 정보 확인 
  - 리그 ID 단위 조회

### 리그
리그 관련 테이블
- 리그 생성
  - 생성과 동시에 리그 리스트도 동시에 생성 
- 명예 점수순 조회
- 최신순 조회
- 오래된 순서 조회

### 매치
경기 매치 관련 테이블
- 매치 생성
  - 매치 매치 리스트 생성
- 매치 조회
- 매치 삭제

### 리그 매치
리그 매치 관련 테이블
- 리그 매치 생성
- 리그 매치 조회
- 리그 매치 삭제

### 신청(Apply) 테이블
팀 가입 신청, 매치 신청, 리그 가입 신청 정보를 관리하는 테이블
- 팀 가입 신청 - 23.09.14
  - 팀 가입 신청 조회 - 23.09 21
  - 팀 가입 신청 내역 삭제 - 23.09 21
- 리그 가입 신청 구현 완료 - 23.09.14
  - 리그 가입 신청 조회 - 23.09 21
  - 리그 가입 신청 내역 삭제 - 23.09 21
- 매치 신청 - 23.09 21
  - 매치 신청 조회 - 23.09 21
  - 매치 신청 내역 삭제 - 23.09 21

### 팀, 리그, 매치 리스트 CRUD
리스트 테이블은 (매치, 팀, 리그) 목록 정보를 담는 테이블입니다.
- 팀 리스트 생성(팀 가입 수락) - 23.09 21 
  - 팀 리스트 조회 - 23.09 21
  - 팀 리스트 삭제 - 23.09 21
- 리그 리스트 생성(리그 가입 수락) - 23.09 21
  - 리그 리스트 조회 - 23.09 21
  - 리그 리스트 삭제 - 23.09 21
- 매치 리스트 생성(매치 신청 수락) - 23.09 21
  - 매치 리스트 조회 - 23.09 21
  - 매치 리스트 삭제 - 23.09 21


### 보안, 배포, DB관련 기능


### 이슈 정리
[팀, 매치, 리그] 생성과 [팀 리스트(팀원 목록), 매치 리스트(경기 매치 팀 리스트), 리그 리스트(리그 팀 목록)] 생성 관계
- [팀, 매치, 리그](이하 팀으로 통일)을 생성한 유저는 팀 생성과 동시에 팀원 목록에 보여야 하므로 팀이 생성되는 단계에서 팀 리스트도 생성되어야 한다.
  - 따라서, 팀 컨트롤러 단에서 postTeam이 팀과 팀리스트를 생성하도록 구현했다.
